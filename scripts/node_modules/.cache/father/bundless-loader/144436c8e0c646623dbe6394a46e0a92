{"value":{"content":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/generators/prettier.ts\nvar prettier_exports = {};\n__export(prettier_exports, {\n  default: () => prettier_default\n});\nmodule.exports = __toCommonJS(prettier_exports);\nvar import_core = require(\"@umijs/core\");\nvar import_utils = require(\"@umijs/utils\");\nvar import_fs = require(\"fs\");\nvar import_path = require(\"path\");\nvar import_utils2 = require(\"./utils\");\nvar prettier_default = (api) => {\n  api.describe({\n    key: \"generator:prettier\"\n  });\n  api.registerGenerator({\n    key: \"prettier\",\n    name: \"Enable Prettier\",\n    description: \"\\u6DFB\\u52A0 Prettier \\u914D\\u7F6E\",\n    type: import_core.GeneratorType.enable,\n    checkEnable: () => {\n      return !(0, import_fs.existsSync)((0, import_path.join)(api.cwd, \".prettierrc\"));\n    },\n    disabledDescription: \"prettier \\u529F\\u80FD\\u6CA1\\u6709\\u5F00\\u542F\\uFF0C\\u4F60\\u53EF\\u4EE5\\u79FB\\u9664 `.prettierrc` \\u6587\\u4EF6\\uFF0C\\u91CD\\u65B0\\u6DFB\\u52A0 Prettier \\u914D\\u7F6E\\u3002\",\n    fn: async () => {\n      const h = new import_utils2.GeneratorHelper(api);\n      h.addDevDeps({\n        prettier: \"^2\",\n        \"prettier-plugin-organize-imports\": \"^2\",\n        \"prettier-plugin-packagejson\": \"^2\"\n      });\n      h.addScript(\"format\", \"prettier --cache --write .\");\n      (0, import_fs.writeFileSync)((0, import_path.join)(api.cwd, \".prettierrc\"), `\n{\n  \"printWidth\": 80,\n  \"singleQuote\": true,\n  \"trailingComma\": \"all\",\n  \"proseWrap\": \"never\",\n  \"overrides\": [{ \"files\": \".prettierrc\", \"options\": { \"parser\": \"json\" } }],\n  \"plugins\": [\"prettier-plugin-organize-imports\", \"prettier-plugin-packagejson\"]\n}\n`.trimLeft());\n      import_utils.logger.info(\"Write .prettierrc\");\n      (0, import_fs.writeFileSync)((0, import_path.join)(api.cwd, \".prettierignore\"), `\nnode_modules\npnpm-lock.yaml\n`.trimLeft());\n      import_utils.logger.info(\"Write .prettierignore\");\n      h.installDeps();\n    }\n  });\n};\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {});\n","options":{"ext":".js"}},"type":"Object"}